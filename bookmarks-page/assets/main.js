import{j as e,r as h,u as H,c as Y}from"./useBookmarks.js";function G({value:t,onChange:s,placeholder:n}){return e.jsxs("div",{className:"search-bar",children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),e.jsx("input",{type:"text",className:"search-input",value:t,onChange:a=>s(a.target.value),placeholder:n||"Search by title, channel, or keywords..."})]})}function q(){const[t,s]=h.useState(()=>localStorage.getItem("yt-bookmark-theme")||"dark");h.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("yt-bookmark-theme",t)},[t]);const n=()=>{s(a=>a==="dark"?"light":"dark")};return e.jsx("button",{className:"theme-toggle",onClick:n,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,title:`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5"}),e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),e.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),e.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),e.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),e.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}function Q({searchQuery:t,onSearchChange:s,onExport:n,onImport:a}){const r=h.useRef(null),i=()=>{r.current?.click()},o=l=>{const c=l.target.files?.[0];c&&(a(c),l.target.value="")};return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"logo",children:[e.jsx("div",{className:"logo-icon",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),e.jsx("span",{className:"logo-text",children:"Marker"})]}),e.jsxs("div",{className:"header-right",children:[e.jsx(G,{value:t,onChange:s,placeholder:"Search by title, channel, or keywords..."}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:n,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Export"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:i,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Import CSV"]}),e.jsx("input",{ref:r,type:"file",accept:".csv",onChange:o,style:{display:"none"}}),e.jsx(q,{})]})]})]})})}const J=[{key:"unwatched",label:"Unwatched"},{key:"watched",label:"Watched"}];function K({activeTab:t,onTabChange:s,counts:n}){return e.jsx("div",{className:"tab-bar",children:e.jsx("div",{className:"tab-bar-inner",children:J.map(a=>e.jsxs("button",{className:`tab-item ${t===a.key?"active":""}`,onClick:()=>s(a.key),children:[e.jsx("span",{className:"tab-label",children:a.label}),e.jsx("span",{className:"tab-count",children:n[a.key]??0})]},a.key))})})}const L=[{value:"date-desc",label:"Latest"},{value:"date-asc",label:"Oldest"},{value:"channel",label:"Channel"},{value:"title",label:"Title"}];function X({value:t,onChange:s}){const[n,a]=h.useState(!1),r=h.useRef(null),i=L.find(l=>l.value===t)?.label??"Sort";h.useEffect(()=>{const l=c=>{r.current&&!r.current.contains(c.target)&&a(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const o=l=>{s(l),a(!1)};return e.jsxs("div",{className:"sort-dropdown",ref:r,children:[e.jsxs("button",{className:`sort-trigger ${n?"open":""}`,onClick:()=>a(!n),type:"button",children:[e.jsx("span",{className:"sort-trigger-label",children:"Sort by:"}),e.jsx("span",{className:"sort-trigger-value",children:i}),e.jsx("svg",{className:"sort-chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),n&&e.jsx("div",{className:"sort-menu",children:L.map(l=>e.jsx("button",{className:`sort-menu-item ${l.value===t?"active":""}`,onClick:()=>o(l.value),type:"button",children:e.jsx("span",{children:l.label})},l.value))})]})}function Z({sortOption:t,onSortChange:s,selectionMode:n,onToggleSelectionMode:a,groupByDate:r,onToggleGroupByDate:i}){return e.jsx("div",{className:"stats-bar",children:e.jsxs("div",{className:"stats-right",children:[e.jsxs("label",{className:"group-toggle",title:"Group bookmarks by date",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:i}),e.jsx("span",{className:"toggle-slider"}),e.jsx("span",{className:"toggle-label",children:"Group by Date"})]}),e.jsx("button",{className:`select-btn ${n?"active":""}`,onClick:a,children:n?"Cancel":"Select"}),e.jsx(X,{value:t,onChange:s})]})})}function ee(t){const s=new Date(t),a=new Date-s,r=Math.floor(a/1e3),i=Math.floor(r/60),o=Math.floor(i/60),l=Math.floor(o/24),c=Math.floor(l/7);return Math.floor(l/30)>0?s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):c>0?`${c} week${c>1?"s":""} ago`:l>0?`${l} day${l>1?"s":""} ago`:o>0?`${o} hour${o>1?"s":""} ago`:i>0?`${i} minute${i>1?"s":""} ago`:"Just now"}function te(t){const s=Math.floor(t/3600),n=Math.floor(t%3600/60),a=t%60;return s>0?`${s}:${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${n}:${a.toString().padStart(2,"0")}`}function T({bookmark:t,onDelete:s,selectionMode:n,isSelected:a,onSelect:r}){const i=`https://i.ytimg.com/vi/${t.video_id}/mqdefault.jpg`,o=`https://www.youtube.com/watch?v=${t.video_id}`,l=t.video_url,c=m=>{m.stopPropagation(),n||window.open(l,"_blank")},u=m=>{m.stopPropagation(),!n&&t.channel_url&&window.open(t.channel_url,"_blank")},b=()=>{n?r?.(t.id):window.open(o,"_blank")},v=m=>{m.stopPropagation(),s?.(t.id)},N=m=>{m.stopPropagation(),r?.(t.id)},k=t.video_duration_seconds||t.timestamp_seconds,C=["bookmark-card",n&&"selection-mode",a&&"selected",t.watched&&"watched"].filter(Boolean).join(" ");return e.jsxs("article",{className:C,onClick:b,children:[n&&e.jsx("div",{className:"card-checkbox",onClick:N,children:e.jsx("div",{className:`checkbox ${a?"checked":""}`,children:a&&e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})}),e.jsxs("div",{className:"card-thumbnail",children:[e.jsx("img",{src:i,alt:t.video_title,loading:"lazy"}),e.jsx("span",{className:"duration-badge",children:te(k)}),t.watched&&e.jsxs("span",{className:"watched-badge",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Watched"]})]}),e.jsxs("div",{className:"card-channel",children:[e.jsxs("div",{className:`channel-link ${t.channel_url?"clickable":""}`,onClick:u,title:t.channel_url?"Visit channel":"",children:[e.jsx("div",{className:"channel-avatar",children:t.channel_avatar?e.jsx("img",{src:t.channel_avatar,alt:t.channel_name}):e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})}),e.jsx("span",{className:"channel-name",children:t.channel_name})]}),e.jsx("span",{className:"card-date",children:ee(t.created_at)})]}),e.jsx("h3",{className:"card-title",children:t.video_title}),e.jsxs("div",{className:"card-footer",children:[t.timestamp_seconds<10?e.jsx("span",{className:"timestamp-badge",children:"start"}):e.jsxs("button",{className:"timestamp-badge",onClick:c,title:"Jump to timestamp",children:[e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t.timestamp_hh_mm_ss]}),!n&&e.jsx("button",{className:"delete-btn",onClick:v,title:"Delete bookmark",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]})}function se(t){const s={},n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(a);return r.setDate(r.getDate()-1),t.forEach(i=>{const o=new Date(i.created_at),l=new Date(o.getFullYear(),o.getMonth(),o.getDate());let c;l.getTime()===a.getTime()?c="Today":l.getTime()===r.getTime()?c="Yesterday":c=l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:l.getFullYear()!==n.getFullYear()?"numeric":void 0}),s[c]||(s[c]=[]),s[c].push(i)}),Object.entries(s)}function ne({bookmarks:t,onDelete:s,selectionMode:n,selectedIds:a,onSelect:r,groupByDate:i}){if(t.length===0)return e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}),e.jsx("h3",{className:"empty-title",children:"No bookmarks found"}),e.jsxs("p",{className:"empty-text",children:["Try adjusting your search or add bookmarks on YouTube with ",e.jsx("kbd",{children:"Ctrl+Shift+L"})]})]});if(i){const o=se(t);return e.jsx("div",{className:"bookmark-grid-grouped",children:o.map(([l,c])=>e.jsxs("div",{className:"date-group",children:[e.jsxs("div",{className:"date-separator",children:[e.jsx("span",{className:"date-label",children:l}),e.jsx("span",{className:"date-count",children:c.length})]}),e.jsx("div",{className:"bookmark-grid",children:c.map(u=>e.jsx(T,{bookmark:u,onDelete:s,selectionMode:n,isSelected:a.has(u.id),onSelect:r},u.id))})]},l))})}return e.jsx("div",{className:"bookmark-grid",children:t.map(o=>e.jsx(T,{bookmark:o,onDelete:s,selectionMode:n,isSelected:a.has(o.id),onSelect:r},o.id))})}function ae({selectedCount:t,totalCount:s,onSelectAll:n,onDeselectAll:a,onMarkWatched:r,onMarkUnwatched:i,onDelete:o,onCancel:l}){const c=t===s&&s>0;return e.jsxs("div",{className:"bulk-action-bar",children:[e.jsxs("div",{className:"bulk-action-info",children:[e.jsxs("button",{className:`bulk-btn bulk-btn-select-all ${c?"all-selected":""}`,onClick:c?a:n,children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c?e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",fill:"currentColor"}),e.jsx("polyline",{points:"7 12 10.5 15.5 17 9",stroke:"white",strokeWidth:"2.5"})]}):e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3"})}),c?"Deselect All":"Select All"]}),e.jsxs("span",{className:"selected-count",children:[t," selected"]})]}),e.jsxs("div",{className:"bulk-action-buttons",children:[e.jsxs("button",{className:"bulk-btn bulk-btn-watched",onClick:r,disabled:t===0,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Mark Watched"]}),e.jsxs("button",{className:"bulk-btn bulk-btn-unwatched",onClick:i,disabled:t===0,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94C16.28 19.19 14.23 20 12 20c-7 0-11-8-11-8a21.3 21.3 0 0 1 5.06-6.06M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a21.3 21.3 0 0 1-2.16 3.19"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),"Mark Unwatched"]}),e.jsxs("button",{className:"bulk-btn bulk-btn-delete",onClick:o,disabled:t===0,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete"]}),e.jsx("button",{className:"bulk-btn bulk-btn-cancel",onClick:l,children:"Cancel"})]})]})}function le({isOpen:t,title:s,message:n,confirmText:a,cancelText:r,onConfirm:i,onCancel:o,variant:l}){return h.useEffect(()=>{const c=u=>{u.key==="Escape"&&t&&o()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t,o]),t?e.jsx("div",{className:"modal-overlay",onClick:o,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsx("h3",{className:"modal-title",children:s}),e.jsx("p",{className:"modal-message",children:n}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:o,children:r||"Cancel"}),e.jsx("button",{className:`modal-btn modal-btn-confirm ${l==="danger"?"danger":""}`,onClick:i,children:a||"Confirm"})]})]})}):null}function re({isOpen:t,title:s,message:n,buttonText:a,onClose:r,variant:i}){return h.useEffect(()=>{const o=l=>{l.key==="Escape"&&t&&r()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,r]),t?e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsx("h3",{className:"modal-title",children:s}),e.jsx("p",{className:"modal-message",children:n}),e.jsx("div",{className:"modal-actions modal-actions-single",children:e.jsx("button",{className:`modal-btn modal-btn-confirm ${i==="danger"?"danger":i==="success"?"success":""}`,onClick:r,children:a||"OK"})})]})}):null}function f(t){if(t==null)return"";const s=String(t);return s.includes('"')||s.includes(",")||s.includes(`
`)||s.includes("\r")?'"'+s.replace(/"/g,'""')+'"':s}function oe(t){const s=[];let n="",a=!1;for(let r=0;r<t.length;r++){const i=t[r];i==='"'?a=!a:i===","&&!a?(s.push(n),n=""):n+=i}return s.push(n),s}function ie(t){if(t.length===0){alert("No bookmarks to export!");return}const s="video_id,video_title,channel_name,timestamp_seconds,timestamp_hh_mm_ss,video_url,created_at,video_duration_seconds,watched",n=t.map(l=>[f(l.video_id),f(l.video_title),f(l.channel_name),f(l.timestamp_seconds),f(l.timestamp_hh_mm_ss),f(l.video_url),f(l.created_at),f(l.video_duration_seconds||""),f(l.watched?"true":"false")].join(",")),a=[s,...n].join(`
`),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`youtube-bookmarks-${new Date().toISOString().split("T")[0]}.csv`,o.click(),URL.revokeObjectURL(i)}function ce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)})}function de(t){return new Promise((s,n)=>{const a=new FileReader;a.onload=r=>{try{const c=r.target.result.split(`
`).slice(1).filter(u=>u.trim()).map(u=>{const[b,v,N,k,C,m,w,g,x]=oe(u);return{id:ce(),video_id:b,video_title:v.replace(/^"|"$/g,"").replace(/""/g,'"'),channel_name:N.replace(/^"|"$/g,"").replace(/""/g,'"'),timestamp_seconds:parseInt(k)||0,timestamp_hh_mm_ss:C,video_url:m,created_at:w,video_duration_seconds:g?parseInt(g):null,watched:x==="true"}});s(c)}catch(i){n(i)}},a.onerror=()=>n(new Error("Failed to read file")),a.readAsText(t)})}function he(){const{bookmarks:t,filteredBookmarks:s,loading:n,searchQuery:a,setSearchQuery:r,sortOption:i,setSortOption:o,deleteBookmark:l,importBookmarks:c,bulkSetWatched:u,bulkDelete:b}=H(),[v,N]=h.useState("unwatched"),[k,C]=h.useState(!1),[m,w]=h.useState(!1),[g,x]=h.useState(new Set),[y,_]=h.useState({isOpen:!1,title:"",message:"",confirmText:"",onConfirm:null,variant:"danger"}),[S,B]=h.useState({isOpen:!1,title:"",message:"",variant:"success"});h.useEffect(()=>{const d=localStorage.getItem("yt-bookmark-theme")||"dark";document.documentElement.setAttribute("data-theme",d)},[]);const $=h.useMemo(()=>{const d=s.filter(p=>p.watched).length,j=s.filter(p=>!p.watched).length;return{all:s.length,watched:d,unwatched:j}},[s]),M=h.useMemo(()=>v==="watched"?s.filter(d=>d.watched):v==="unwatched"?s.filter(d=>!d.watched):s,[s,v]),D=()=>{_(d=>({...d,isOpen:!1}))},E=()=>{m&&x(new Set),w(!m)},W=d=>{x(j=>{const p=new Set(j);return p.has(d)?p.delete(d):p.add(d),p})},O=()=>{const d=new Set(M.map(j=>j.id));x(d)},I=()=>{x(new Set)},A=async()=>{await u(Array.from(g),!0),x(new Set),w(!1)},R=async()=>{await u(Array.from(g),!1),x(new Set),w(!1)},U=()=>{const d=g.size;_({isOpen:!0,title:"Delete Bookmarks",message:`Are you sure you want to delete ${d} bookmark${d>1?"s":""}? This action cannot be undone.`,confirmText:"Delete",variant:"danger",onConfirm:async()=>{await b(Array.from(g)),x(new Set),w(!1),D()}})},z=d=>{_({isOpen:!0,title:"Delete Bookmark",message:"Are you sure you want to delete this bookmark? This action cannot be undone.",confirmText:"Delete",variant:"danger",onConfirm:async()=>{await l(d),D()}})},V=()=>{x(new Set),w(!1)},F=()=>{ie(t)},P=async d=>{try{const j=await de(d),p=await c(j);B({isOpen:!0,title:"Import Successful",message:p.message,variant:"success"})}catch(j){B({isOpen:!0,title:"Import Failed",message:"Error importing CSV: "+j.message,variant:"danger"})}};return n?e.jsx("div",{className:"app",children:e.jsxs("div",{className:"loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading bookmarks..."})]})}):e.jsxs("div",{className:"app",children:[e.jsx(Q,{searchQuery:a,onSearchChange:r,onExport:F,onImport:P}),e.jsxs("main",{className:"main-content",children:[e.jsxs("div",{className:"toolbar-row",children:[e.jsx(K,{activeTab:v,onTabChange:N,counts:$}),e.jsx(Z,{sortOption:i,onSortChange:o,selectionMode:m,onToggleSelectionMode:E,groupByDate:k,onToggleGroupByDate:()=>C(!k)})]}),e.jsx(ne,{bookmarks:M,onDelete:z,selectionMode:m,selectedIds:g,onSelect:W,groupByDate:k})]}),m&&e.jsx(ae,{selectedCount:g.size,totalCount:M.length,onSelectAll:O,onDeselectAll:I,onMarkWatched:A,onMarkUnwatched:R,onDelete:U,onCancel:V}),e.jsx(le,{isOpen:y.isOpen,title:y.title,message:y.message,confirmText:y.confirmText,variant:y.variant,onConfirm:y.onConfirm,onCancel:D}),e.jsx(re,{isOpen:S.isOpen,title:S.title,message:S.message,variant:S.variant,onClose:()=>B(d=>({...d,isOpen:!1}))})]})}Y.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(he,{})}));
